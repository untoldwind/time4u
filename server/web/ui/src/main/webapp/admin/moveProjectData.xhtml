<?xml version="1.0" encoding="utf-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:s="http://jboss.com/products/seam/taglib" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich"
	template="../templates/main-template.xhtml">

	<ui:define name="title">Move project/task data</ui:define>
	<ui:define name="contentDetail">
		<h:form>
			<table>
				<tr>
					<td>From project:</td>
					<td>
						<s:div id="fromPanel">
							<ui:repeat value="#{admin.moveProjectDataController.fromProjectStack}"
								var="projectId">
								<h:outputText value="#{ProjectService.getProject(projectId).name}" />
							&lt;
						</ui:repeat>
						<h:selectOneMenu value="#{admin.moveProjectDataController.fromProjectId}" required="false">
							<s:selectItems value="#{ProjectService.getChildProjects(admin.moveProjectDataController.fromProjectId)}"
								var="project" itemValue="#{project.id}" label="#{project.name}" hideNoSelection="false" noSelectionLabel="*no project*"/>
							<a4j:support event="onchange" reRender="fromPanel"/>
							<f:selectItem itemLabel="*parent*" itemValue="parent" />
						</h:selectOneMenu>
						</s:div>
					</td>
				</tr>
				<tr>
					<td>To project:</td>
					<td>
						<s:div id="toPanel">
							<ui:repeat value="#{admin.moveProjectDataController.toProjectStack}" var="projectId">
								<h:outputText value="#{ProjectService.getProject(projectId).name}"/>
								&lt;
							</ui:repeat>
							<h:selectOneMenu value="#{admin.moveProjectDataController.toProjectId}" required="false">
								<s:selectItems value="#{ProjectService.getChildProjects(admin.moveProjectDataController.toProjectId)}"
									var="project" itemValue="#{project.id}" label="#{project.name}" hideNoSelection="false" noSelectionLabel="*no project*"/>
								<a4j:support event="onchange" reRender="toPanel"/>
								<f:selectItem itemLabel="*parent*" itemValue="parent" />
							</h:selectOneMenu>
						</s:div>
					</td>
				</tr>
			</table>
		</h:form>
	</ui:define>
</ui:composition>